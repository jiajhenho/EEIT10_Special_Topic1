<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/list-task.svg">
    <title>行李清單</title>
    <link rel="stylesheet" href="../css/bootstrap.css">
    <script src="../js/bootstrap.bundle.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <style>
        body {
            background-image: url('./img/ash-edmonds-uztw2giebSc-unsplash.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: 100% 100%;
        }

        @media (min-width: 1200px) {
            body {
                background-image: url("./img/二条城\ 庭院.jpg");
            }
        }


    </style>
</head>

<body>
    <!-- 導覽列 -->
    <nav class="navbar navbar-expand-lg sticky-top" style="background-color: rgba(255, 255, 255, 0.5);">
        <div class="container-fluid">
            <a class="navbar-brand nav-link ms-3" href="./小專題v2.html"><i class="bi bi-house"></i> Home</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/常用會話.html">常用會話</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- 一鍵清除 -->
    <div class="container d-flex justify-content-end mt-3">
        <button class="btn btn-outline-danger " id="clear-button">一鍵清除</button>
    </div>

    <!-- 清單 -->
    <div class="row row-cols-1 row-cols-md-3 m-3 g-4">
        <div class="col">
            <fieldset class="form-control border-success"
                style="font-size:larger; background-color: rgba(255, 255, 255, 0.9);">
                <legend><i class="bi bi-luggage me-3"></i>旅行相關</legend>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="passport">
                    <label class="form-check-label" for="passport">護照</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="visa">
                    <label class="form-check-label" for="visa">簽證</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="photo">
                    <label class="form-check-label" for="photo">兩吋照片</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="luggagestraps">
                    <label class="form-check-label" for="luggagestraps">行李束帶</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="travelbag">
                    <label class="form-check-label" for="travelbag">旅行袋</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="neckpillow">
                    <label class="form-check-label" for="neckpillow">頸枕</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="lock">
                    <label class="form-check-label" for="lock">鎖頭</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="luggagescale">
                    <label class="form-check-label" for="luggagescale">行李秤</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="earplugs">
                    <label class="form-check-label" for="earplugs">耳塞
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="eyepatch">
                    <label class="form-check-label" for="eyepatch">眼罩</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="confirmation">
                    <label class="form-check-label" for="confirmation">行程 / 飯店確證單節圖</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="internationaldrivingpermit">
                    <label class="form-check-label" for="internationaldrivingpermit">國際駕照</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="foreigncurrency">
                    <label class="form-check-label" for="foreigncurrency">外幣</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="networkcard">
                    <label class="form-check-label" for="networkcard">網卡</label>
                </div>
            </fieldset>
        </div>
        <div class="col">
            <fieldset class="form-control border-success"
                style="font-size: larger; background-color: rgba(255, 255, 255, 0.9);">
                <legend><i class="bi bi-handbag me-3"></i>基本物品</legend>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="carryonbag">
                    <label class="form-check-label" for="carryonbag">隨身包</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="creditcard">
                    <label class="form-check-label" for="creditcard">信用卡</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="chargingcable">
                    <label class="form-check-label" for="chargingcable">充電線</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="powerbank">
                    <label class="form-check-label" for="powerbank">行動電源</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="universaladapter">
                    <label class="form-check-label" for="universaladapter">萬用轉接頭</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="glasses">
                    <label class="form-check-label" for="glasses">眼鏡 / 隱形眼鏡</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="cosmetic">
                    <label class="form-check-label" for="cosmetic">化妝品 / 保養品</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="sunprotection">
                    <label class="form-check-label" for="sunprotection">防曬</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="umbrella">
                    <label class="form-check-label" for="umbrella">雨傘</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="kettle">
                    <label class="form-check-label" for="kettle">水壺</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="medicine">
                    <label class="form-check-label" for="medicine">藥品</label>
                </div>
            </fieldset>
        </div>
        <div class="col">
            <fieldset class="form-control border-success"
                style="font-size: larger; background-color: rgba(255, 255, 255, 0.9);">
                <legend><i class="bi bi-person me-3"></i>衣物與盥洗用品</legend>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="jacket">
                    <label class="form-check-label" for="jacket">上衣</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="pants">
                    <label class="form-check-label" for="pants">褲子 / 裙</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="shoes">
                    <label class="form-check-label" for="shoes">布鞋 / 拖鞋</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="coat">
                    <label class="form-check-label" for="coat">外套</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="sock">
                    <label class="form-check-label" for="sock">襪子</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="accessories">
                    <label class="form-check-label" for="accessories">飾品</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="tooth">
                    <label class="form-check-label" for="tooth">牙膏 / 牙刷</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="facialcleanser">
                    <label class="form-check-label" for="facialcleanser">洗面乳</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="shampoo">
                    <label class="form-check-label" for="shampoo">洗 / 潤髮乳</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="showergel">
                    <label class="form-check-label" for="showergel">沐浴乳</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="towel">
                    <label class="form-check-label" for="towel">毛巾</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input list-item" type="checkbox" id="comb">
                    <label class="form-check-label" for="comb">梳子</label>
                </div>
            </fieldset>
        </div>
    </div>

    <!-- localStorage-->
    <script>
        // 取得所有具有 'list-item' class 的核取方塊
        const listItems = document.querySelectorAll('.list-item');

        // 取得清除按鈕
        const clearButton = document.getElementById('clear-button');

        // 定義儲存在 localStorage 的鍵名
        const storageKey = 'packingListStatus';

        // 函式：將所有清單項目的狀態儲存到 localStorage
        function saveListStatus() {
            const status = {};
            listItems.forEach((item, index) => {
                status[index] = item.checked;
            });
            localStorage.setItem(storageKey, JSON.stringify(status));
        }

        // 函式：從 localStorage 讀取並恢復清單狀態
        function loadListStatus() {
            const savedStatus = localStorage.getItem(storageKey);
            if (savedStatus) {
                const status = JSON.parse(savedStatus);
                listItems.forEach((item, index) => {
                    if (status[index] !== undefined) {
                        item.checked = status[index];
                    }
                });
            }
        }

        // 函式：清除所有選項並同步清除 localStorage
        function clearAllItems() {
            listItems.forEach(item => {
                item.checked = false; // 將所有核取方塊的勾選狀態設為 false
            });
            localStorage.removeItem(storageKey); // 移除 localStorage 中儲存的資料
            console.log("已清除所有勾選項目並移除 localStorage 記錄。");
        }

        // 網頁載入時，立即載入 localStorage 的狀態
        window.addEventListener('load', loadListStatus);

        // 為每個核取方塊添加 change 事件監聽器
        listItems.forEach(item => {
            item.addEventListener('change', saveListStatus);
        });

        // 為「一鍵清除」按鈕添加點擊事件監聽器
        clearButton.addEventListener('click', clearAllItems);
    </script>
</body>

</html>